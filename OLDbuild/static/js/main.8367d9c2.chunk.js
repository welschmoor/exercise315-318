(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{27:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),a=t(20),o=t.n(a),i=(t(27),t(22)),s=t(10),u=t(3),l=t(4),d=t.n(l),j=t(21),b=t.n(j),h=t(0),f=function(e){var n=e.onChange;return Object(h.jsxs)(h.Fragment,{children:["Search: ",Object(h.jsx)("input",{input:"text",placeholder:"search contacts",onChange:n})]})},O=function(e){var n=e.sending,t=n.submitHandler,c=n.newName,r=n.inputHandler,a=n.inputHandler2,o=n.newPhone;return Object(h.jsxs)("form",{onSubmit:t,children:[Object(h.jsxs)("div",{children:["name: ",Object(h.jsx)("input",{value:c,onChange:r,required:!0})]}),Object(h.jsxs)("div",{children:["phone: ",Object(h.jsx)("input",{value:o,onChange:a,required:!0})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]})},m=function(e){var n=e.children,t=e.clickHandler,c=e.id;return Object(h.jsxs)("button",{onClick:function(){window.confirm("you sure?")&&t(c)},children:[" ",n]})},p=function(e){var n=e.sending,t=n.filter,c=n.persons,r=n.deleteHandler;return console.log(c),Object(h.jsxs)("ul",{children:[!t&&c.map((function(e){return Object(h.jsxs)("li",{children:[e.name," ",e.number," ",Object(h.jsx)(m,{children:"delete",clickHandler:r,id:e.id})]},e.id)})),t&&c.filter((function(e){if(e.name.toLowerCase().includes(t.toLowerCase()))return!0})).map((function(e){return Object(h.jsxs)("li",{children:[e.name," ",e.number," ",Object(h.jsx)(m,{children:"delete",clickHandler:r,id:e.id})]},e.id)}))]})},x="/api/persons",v=function(e){var n=e.message,t=e.whatkind;return null===n?null:Object(h.jsx)("div",{className:t,children:n})},g=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),o=Object(u.a)(a,2),l=o[0],j=o[1],m=Object(c.useState)(""),g=Object(u.a)(m,2),w=g[0],k=g[1],C=Object(c.useState)(""),H=Object(u.a)(C,2),S=H[0],L=H[1],y=Object(c.useState)(null),N=Object(u.a)(y,2),E=N[0],P=N[1],q=Object(c.useState)(null),D=Object(u.a)(q,2),J=D[0],T=D[1];Object(c.useEffect)((function(){var e=!1;return d.a.get(x,{headers:{accepts:"application/json"}}).then((function(e){return e.data})).then((function(n){e||r(n)})).catch((function(e){return console.error(e)})),function(){e=!0}}),[]);return Object(h.jsxs)("center",{children:[Object(h.jsx)("h1",{children:"Phonebook"}),Object(h.jsx)(f,{onChange:function(e){L(e.target.value)}}),Object(h.jsx)("h2",{children:"+Add contact"}),Object(h.jsx)(v,{message:E,whatkind:"success"}),Object(h.jsx)(v,{message:J,whatkind:"error"}),Object(h.jsx)(O,{sending:{submitHandler:function(e){e.preventDefault();var n=!1;if(t.forEach((function(e){e.name.toLowerCase()===l.toLowerCase()&&(n=!0)})),n){if(window.confirm("Do you want to change the number?")){var c=t.find((function(e){return e.name.toLowerCase()===l.toLowerCase()})),a=Object(s.a)(Object(s.a)({},c),{},{number:w});return void d.a.put("http://localhost:3001/persons/".concat(c.id),a).then((function(e){r(t.map((function(e){return e.name===c.name?a:e})))})).catch((function(e){console.log(a),T("".concat(a.name," no longer in phone book!")),setTimeout((function(){T(null)}),4e3)}))}return alert("name ".concat(l," already exists!")),j(""),void k("")}var o,u={name:l.trim(),number:w.trim(),id:b()()};(o=u,d.a.post(x,o).then((function(e){return e.data}))).then((function(e){r([].concat(Object(i.a)(t),[e])),j(""),k(""),P("".concat(e.name," added to contacts!")),setTimeout((function(){P(null)}),4e3)}))},newName:l,inputHandler:function(e){j(e.target.value)},inputHandler2:function(e){k(e.target.value)},newPhone:w}}),Object(h.jsx)("br",{}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)(p,{sending:{filter:S,persons:t,deleteHandler:function(e){d.a.delete("http://localhost:3001/persons/".concat(e)).then((function(n){r(t.filter((function(n){return n.id!==e})))}))}}})]})};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.8367d9c2.chunk.js.map