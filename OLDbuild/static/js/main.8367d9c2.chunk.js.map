{"version":3,"sources":["phoneComponents/Searchinput.js","phoneComponents/Form.js","phoneComponents/DeleteButton.js","phoneComponents/Personlist.js","services/persons.js","phoneComponents/Notification.js","App.js","index.js"],"names":["Searchinput","onChange","input","placeholder","Form","sending","submitHandler","newName","inputHandler","inputHandler2","newPhone","onSubmit","value","required","type","DeleteButton","children","clickHandler","id","onClick","window","confirm","Personlist","filter","persons","deleteHandler","console","log","map","each","name","number","toLowerCase","includes","url","Notification","message","whatkind","className","App","useState","setPersons","setNewName","setNewPhone","setFilter","notification","setNotification","error","setError","useEffect","unsub","axios","get","headers","then","res","data","catch","e","target","preventDefault","duplicate","forEach","ourPerson","find","updatedPerson","put","setTimeout","alert","newItem","newContact","trim","uniqid","post","delete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8367d9c2.chunk.js","sourcesContent":["\r\n\r\n\r\n\r\n\r\nconst Searchinput = ({onChange}) => {\r\n    return(\r\n        <>\r\n        Search: <input input=\"text\" placeholder=\"search contacts\" onChange={onChange} />\r\n        </>\r\n    )\r\n}\r\nexport default Searchinput","const Form = ({ sending: { submitHandler, newName, inputHandler, inputHandler2, newPhone } }) => {\r\n  return (\r\n    <form onSubmit={submitHandler}>\r\n      <div>\r\n        name: <input value={newName} onChange={inputHandler} required />\r\n      </div>\r\n      <div>\r\n        phone: <input value={newPhone} onChange={inputHandler2} required />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form\r\n","\r\n\r\nconst DeleteButton = ({children, clickHandler, id }) => {\r\n\r\n    const handleDelete = () => {\r\n        if (window.confirm('you sure?')) {\r\n            clickHandler(id)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <button onClick={handleDelete}> { children }</button>\r\n    )\r\n}\r\n\r\nexport default DeleteButton","import DeleteButton from \"./DeleteButton.js\"\r\n\r\nconst Personlist = ({ sending: { filter, persons, deleteHandler } }) => {\r\n  console.log(persons)\r\n  return (\r\n    <ul>\r\n      {!filter &&\r\n        persons.map((each) => {\r\n          return (\r\n            <li key={each.id}>\r\n              {each.name} {each.number} <DeleteButton children=\"delete\" clickHandler={deleteHandler} id={each.id} />\r\n            </li>\r\n          )\r\n        })}\r\n\r\n      {filter &&\r\n        persons\r\n          .filter((each) => {\r\n            if (each.name.toLowerCase().includes(filter.toLowerCase())) return true\r\n          })\r\n          .map((each) => {\r\n            return (\r\n              <li key={each.id}>\r\n                {each.name} {each.number} <DeleteButton children=\"delete\" clickHandler={deleteHandler} id={each.id} />\r\n              </li>\r\n            )\r\n          })}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Personlist\r\n","\r\n\r\nimport axios from \"axios\"\r\n\r\n// const url = `http://localhost:3001/persons` // json server URL\r\n// const url = `http://localhost:3001/api/persons` // BackEndUrl\r\nconst url = `/api/persons` // Express url\r\n\r\n\r\nexport const getAll = () => {\r\n    const response = axios.get(url, {\r\n        headers:{\r\n            \"accepts\":\"application/json\"\r\n        }})\r\n    return response.then(res=>res.data)\r\n}\r\n\r\nexport const postItem = (newItem) => {\r\n    const response = axios.post(url,newItem)\r\n    return response.then(res=>res.data)\r\n}\r\n\r\n\r\n","\r\nconst Notification = ({message, whatkind}) => {\r\n    if (message === null) return null;\r\n\r\n\r\n    return(\r\n        <div className={whatkind}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport uniqid from 'uniqid'\n\nimport Searchinput from \"./phoneComponents/Searchinput\"\nimport Form from \"./phoneComponents/Form\"\nimport Personlist from \"./phoneComponents/Personlist\"\nimport {getAll, postItem} from './services/persons.js'  // getAll(), create(newItem)\nimport Notification from './phoneComponents/Notification'\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newPhone, setNewPhone] = useState('')\n    const [filter, setFilter] = useState('')  // only show contacts whose name .includes(filter) string\n    const [notification, setNotification] = useState(null)\n    const [error, setError] = useState(null)\n\n\n    // fetching all data on mount\n    useEffect(()=> {\n      let unsub = false\n      \n      getAll().then(data => {if (!unsub) {setPersons(data)}}).catch(error=>console.error(error))\n      \n      return () => {unsub = true}\n    },[])\n  \n\n    const submitHandler = (e) => {\n      e.preventDefault()\n\n      // checking for duplicates\n      let duplicate = false\n      persons.forEach(each => {\n        if (each.name.toLowerCase() === newName.toLowerCase()) {duplicate = true};\n      })\n\n      if (duplicate) {\n        if (window.confirm('Do you want to change the number?')) {\n          const ourPerson = persons.find(each => each.name.toLowerCase() === newName.toLowerCase())\n          const updatedPerson = { ...ourPerson, number: newPhone }\n          axios\n          .put(`http://localhost:3001/persons/${ourPerson.id}`, updatedPerson )\n          .then(res=> {\n            setPersons(persons.map(each=> each.name === ourPerson.name ? updatedPerson : each ))\n          }).catch(error=>{\n            console.log(updatedPerson)\n            setError(`${updatedPerson.name} no longer in phone book!`)\n            setTimeout(()=>{\n              setError(null)\n            }, 4000)\n          })\n          return\n        }\n        alert(`name ${newName} already exists!`)\n        setNewName('')\n        setNewPhone('')\n        return\n      } //\n\n\n      const newContact = {name: newName.trim(), number: newPhone.trim(), id: uniqid() }\n      postItem(newContact)\n      .then(data=> {\n        setPersons([...persons, data ])\n        setNewName('')\n        setNewPhone('')   \n        setNotification(`${data.name} added to contacts!`) \n        setTimeout(()=>{\n          setNotification(null)\n        }, 4000)   \n      })\n    }\n\n\n    const inputHandler = (e) => {\n      setNewName(e.target.value)\n    }\n    const inputHandler2 = (e) => {\n      setNewPhone(e.target.value)\n    }\n\n    const searchInputHandler = (e) => {\n      setFilter(e.target.value)\n    }\n\n    const deleteHandler = (id) => {\n      axios\n      .delete(`http://localhost:3001/persons/${id}`)\n      .then(res=>{\n        setPersons(persons.filter(e=> {\n          return e.id !==id \n        }))\n      })\n    }\n\n\n    return (\n    <center>\n        <h1>Phonebook</h1>\n        <Searchinput onChange={searchInputHandler} />\n        <h2>+Add contact</h2>\n        <Notification message={notification} whatkind={\"success\"} />\n        <Notification message={error} whatkind={\"error\"} />\n        <Form sending={{submitHandler, newName, inputHandler, inputHandler2, newPhone}}/>\n        <br/>\n    \n        <h2>Numbers</h2>\n\n        <Personlist sending={{filter, persons, deleteHandler }}/>\n\n    </center>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}