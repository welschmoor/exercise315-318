{"version":3,"sources":["phoneComponents/Searchinput.js","phoneComponents/Form.js","phoneComponents/DeleteButton.js","phoneComponents/Personlist.js","services/persons.js","phoneComponents/Notification.js","App.js","index.js"],"names":["Searchinput","onChange","input","placeholder","Form","sending","submitHandler","newName","inputHandler","inputHandler2","newPhone","onSubmit","value","required","type","DeleteButton","children","clickHandler","id","onClick","window","confirm","Personlist","filter","persons","deleteHandler","console","log","map","each","name","number","toLowerCase","includes","url","Notification","message","whatkind","className","App","useState","setPersons","setNewName","setNewPhone","setFilter","notification","setNotification","error","setError","useEffect","unsub","axios","get","headers","then","res","data","catch","e","target","preventDefault","itemID","updatedItem","duplicate","forEach","ourPerson","find","updatedPerson","put","answ","setTimeout","alert","newItem","newContact","trim","uniqid","post","delete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.79ae748f.chunk.js","sourcesContent":["\r\n\r\n\r\n\r\n\r\nconst Searchinput = ({onChange}) => {\r\n    return(\r\n        <>\r\n        Search: <input input=\"text\" placeholder=\"search contacts\" onChange={onChange} />\r\n        </>\r\n    )\r\n}\r\nexport default Searchinput","const Form = ({ sending: { submitHandler, newName, inputHandler, inputHandler2, newPhone } }) => {\r\n  return (\r\n    <form onSubmit={submitHandler}>\r\n      <div>\r\n        name: <input value={newName} onChange={inputHandler} required />\r\n      </div>\r\n      <div>\r\n        phone: <input value={newPhone} onChange={inputHandler2} required />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form\r\n","\r\n\r\nconst DeleteButton = ({children, clickHandler, id }) => {\r\n\r\n    const handleDelete = () => {\r\n        if (window.confirm('you sure?')) {\r\n            clickHandler(id)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <button onClick={handleDelete}> { children }</button>\r\n    )\r\n}\r\n\r\nexport default DeleteButton","import DeleteButton from \"./DeleteButton.js\"\r\n\r\nconst Personlist = ({ sending: { filter, persons, deleteHandler } }) => {\r\n  console.log(persons)\r\n  return (\r\n    <ul>\r\n      {!filter &&\r\n        persons.map((each) => {\r\n          return (\r\n            <li key={each.id}>\r\n              {each.name} {each.number} <DeleteButton children=\"delete\" clickHandler={deleteHandler} id={each.id} />\r\n            </li>\r\n          )\r\n        })}\r\n\r\n      {filter &&\r\n        persons\r\n          .filter((each) => {\r\n            if (each.name.toLowerCase().includes(filter.toLowerCase())) return true\r\n          })\r\n          .map((each) => {\r\n            return (\r\n              <li key={each.id}>\r\n                {each.name} {each.number} <DeleteButton children=\"delete\" clickHandler={deleteHandler} id={each.id} />\r\n              </li>\r\n            )\r\n          })}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Personlist\r\n","\r\n\r\nimport axios from \"axios\"\r\n\r\n// const url = `http://localhost:3001/persons` // json server URL\r\n// const url = `http://localhost:3001/api/persons` // BackEndUrl\r\nconst url = `/api/persons` // Express url\r\n\r\n\r\nexport const getAll = () => {\r\n    const response = axios.get(url, {\r\n        headers:{\r\n            \"accepts\":\"application/json\"\r\n        }})\r\n    return response.then(res=>res.data)\r\n}\r\n\r\nexport const postItem = (newItem) => {\r\n    const response = axios.post(url,newItem)\r\n    return response.then(res=>res.data)\r\n}\r\n\r\nexport const deleteItem = itemID => {\r\n    const response = axios.delete(url + `/${itemID}`)\r\n    return response.then(res=>res.data)\r\n}\r\n\r\nexport const updateItem = (itemID, updatedItem) => {\r\n    const response = axios.put(url + `/${itemID}`, updatedItem)\r\n    return response.then(answ=>answ.data)\r\n}\r\n","\r\nconst Notification = ({message, whatkind}) => {\r\n    if (message === null) return null;\r\n\r\n\r\n    return(\r\n        <div className={whatkind}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport uniqid from \"uniqid\"\n\nimport Searchinput from \"./phoneComponents/Searchinput\"\nimport Form from \"./phoneComponents/Form\"\nimport Personlist from \"./phoneComponents/Personlist\"\nimport { getAll, postItem, deleteItem, updateItem } from \"./services/persons.js\" // getAll(), create(newItem)\nimport Notification from \"./phoneComponents/Notification\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newPhone, setNewPhone] = useState(\"\")\n  const [filter, setFilter] = useState(\"\") // only show contacts whose name .includes(filter) string\n  const [notification, setNotification] = useState(null)\n  const [error, setError] = useState(null)\n\n  // fetching all data on mount\n  useEffect(() => {\n    let unsub = false\n\n    getAll()\n      .then((data) => {\n        if (!unsub) {\n          setPersons(data)\n        }\n      })\n      .catch((error) => console.error(error))\n\n    return () => {\n      unsub = true\n    }\n  }, [])\n\n  const submitHandler = (e) => {\n    e.preventDefault()\n\n    // checking for duplicates\n    let duplicate = false\n    persons.forEach((each) => {\n      if (each.name.toLowerCase() === newName.toLowerCase()) {\n        duplicate = true\n      }\n    })\n\n    /// PUT\n    if (duplicate) {\n      if (window.confirm(\"Do you want to change the number?\")) {\n        const ourPerson = persons.find((each) => each.name.toLowerCase() === newName.toLowerCase())\n        const updatedPerson = { ...ourPerson, number: newPhone }\n        updateItem(ourPerson.id, updatedPerson)\n          .then((res) => {\n            setPersons(persons.map((each) => (each.name === ourPerson.name ? updatedPerson : each)))\n          })\n          .catch((error) => {\n            console.log(updatedPerson)\n            setError(`${updatedPerson.name} no longer in phone book!`)\n            setTimeout(() => {\n              setError(null)\n            }, 4000)\n          })\n        return\n      }\n      alert(`name ${newName} already exists!`)\n      setNewName(\"\")\n      setNewPhone(\"\")\n      return\n    } //\n\n    const newContact = { name: newName.trim(), number: newPhone.trim(), id: uniqid() }\n    postItem(newContact).then((data) => {\n      setPersons([...persons, data])\n      setNewName(\"\")\n      setNewPhone(\"\")\n      setNotification(`${data.name} added to contacts!`)\n      setTimeout(() => {\n        setNotification(null)\n      }, 4000)\n    })\n  }\n\n  const inputHandler = (e) => {\n    setNewName(e.target.value)\n  }\n  const inputHandler2 = (e) => {\n    setNewPhone(e.target.value)\n  }\n\n  const searchInputHandler = (e) => {\n    setFilter(e.target.value)\n  }\n\n  ////////////////////////////////////////////////////////////////////////\n  // OLD Delete Handler\n  // const deleteHandler = (id) => {\n  //   axios\n  //   .delete(`http://localhost:3001/persons/${id}`)\n  //   .then(res=>{\n  //     setPersons(persons.filter(e=> {\n  //       return e.id !==id\n  //     }))\n  //   })\n  // }\n\n  ////////////////////////////////////////////////////////////////////////\n  // Delete Handler Mongo\n  const deleteHandler = (id) => {\n    deleteItem(id).then((res) => {\n      setPersons(\n        persons.filter((e) => {\n          return e.id !== id\n        })\n      )\n    })\n  }\n\n  return (\n    <center>\n      <h1>Phonebook</h1>\n      <Searchinput onChange={searchInputHandler} />\n      <h2>+Add contact</h2>\n      <Notification message={notification} whatkind={\"success\"} />\n      <Notification message={error} whatkind={\"error\"} />\n      <Form sending={{ submitHandler, newName, inputHandler, inputHandler2, newPhone }} />\n      <br />\n\n      <h2>Numbers</h2>\n\n      <Personlist sending={{ filter, persons, deleteHandler }} />\n    </center>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}